#pragma once
#include <lua.h>
#include <curl/curl.h>

#define EIV(A) lua_pushinteger(L,CURLE_##A);lua_pushstring(L,#A);lua_rawset(L,-3);
static inline void xcurl__easy_errors_consts(lua_State * L){
    lua_newtable(L);
	EIV(OK)
	EIV(UNSUPPORTED_PROTOCOL)
	EIV(FAILED_INIT)
	EIV(URL_MALFORMAT)
	EIV(NOT_BUILT_IN)
	EIV(COULDNT_RESOLVE_PROXY)
	EIV(COULDNT_RESOLVE_HOST)
	EIV(COULDNT_CONNECT)
	EIV(WEIRD_SERVER_REPLY)
	EIV(REMOTE_ACCESS_DENIED)
	EIV(FTP_ACCEPT_FAILED)
	EIV(FTP_WEIRD_PASS_REPLY)
	EIV(FTP_ACCEPT_TIMEOUT)
	EIV(FTP_WEIRD_PASV_REPLY)
	EIV(FTP_WEIRD_227_FORMAT)
	EIV(FTP_CANT_GET_HOST)
	EIV(HTTP2)
	EIV(FTP_COULDNT_SET_TYPE)
	EIV(PARTIAL_FILE)
	EIV(FTP_COULDNT_RETR_FILE)
	EIV(OBSOLETE20)
	EIV(QUOTE_ERROR)
	EIV(HTTP_RETURNED_ERROR)
	EIV(WRITE_ERROR)
	EIV(OBSOLETE24)
	EIV(UPLOAD_FAILED)
	EIV(READ_ERROR)
	EIV(OUT_OF_MEMORY)
	EIV(OPERATION_TIMEDOUT)
	EIV(OBSOLETE29)
	EIV(FTP_PORT_FAILED)
	EIV(FTP_COULDNT_USE_REST)
	EIV(OBSOLETE32)
	EIV(RANGE_ERROR)
	EIV(HTTP_POST_ERROR)
	EIV(SSL_CONNECT_ERROR)
	EIV(BAD_DOWNLOAD_RESUME)
	EIV(FILE_COULDNT_READ_FILE)
	EIV(LDAP_CANNOT_BIND)
	EIV(LDAP_SEARCH_FAILED)
	EIV(OBSOLETE40)
	EIV(FUNCTION_NOT_FOUND)
	EIV(ABORTED_BY_CALLBACK)
	EIV(BAD_FUNCTION_ARGUMENT)
	EIV(OBSOLETE44)
	EIV(INTERFACE_FAILED)
	EIV(OBSOLETE46)
	EIV(TOO_MANY_REDIRECTS)
	EIV(UNKNOWN_OPTION)
	EIV(SETOPT_OPTION_SYNTAX)
	EIV(OBSOLETE50)
	EIV(OBSOLETE51)
	EIV(GOT_NOTHING)
	EIV(SSL_ENGINE_NOTFOUND)
	EIV(SSL_ENGINE_SETFAILED)
	EIV(SEND_ERROR)
	EIV(RECV_ERROR)
	EIV(OBSOLETE57)
	EIV(SSL_CERTPROBLEM)
	EIV(SSL_CIPHER)
	EIV(PEER_FAILED_VERIFICATION)
	EIV(BAD_CONTENT_ENCODING)
	EIV(OBSOLETE62)
	EIV(FILESIZE_EXCEEDED)
	EIV(USE_SSL_FAILED)
	EIV(SEND_FAIL_REWIND)
	EIV(SSL_ENGINE_INITFAILED)
	EIV(LOGIN_DENIED)
	EIV(TFTP_NOTFOUND)
	EIV(TFTP_PERM)
	EIV(REMOTE_DISK_FULL)
	EIV(TFTP_ILLEGAL)
	EIV(TFTP_UNKNOWNID)
	EIV(REMOTE_FILE_EXISTS)
	EIV(TFTP_NOSUCHUSER)
	EIV(OBSOLETE75)
	EIV(OBSOLETE76)
	EIV(SSL_CACERT_BADFILE)
	EIV(REMOTE_FILE_NOT_FOUND)
	EIV(SSH)
	EIV(SSL_SHUTDOWN_FAILED)
	EIV(AGAIN)
	EIV(SSL_CRL_BADFILE)
	EIV(SSL_ISSUER_ERROR)
	EIV(FTP_PRET_FAILED)
	EIV(RTSP_CSEQ_ERROR)
	EIV(RTSP_SESSION_ERROR)
	EIV(FTP_BAD_FILE_LIST)
	EIV(CHUNK_FAILED)
	EIV(NO_CONNECTION_AVAILABLE)
	EIV(SSL_PINNEDPUBKEYNOTMATCH)
	EIV(SSL_INVALIDCERTSTATUS)
	EIV(HTTP2_STREAM)
	EIV(RECURSIVE_API_CALL)
	EIV(AUTH_ERROR)
	EIV(HTTP3)
	EIV(QUIC_CONNECT_ERROR)
	EIV(PROXY)
	EIV(SSL_CLIENTCERT)
	EIV(UNRECOVERABLE_POLL)
	EIV(TOO_LARGE)
	EIV(ECH_REQUIRED)
}
#undef EIV

#define IIV(A,a) lua_pushstring(L,a);lua_pushinteger(L,CURLINFO_##A);lua_rawset(L,-3);
static inline void xcurl__easy_info_consts(lua_State * L){
    lua_newtable(L);
    IIV(EFFECTIVE_URL,"effective_url")
    IIV(RESPONSE_CODE,"response_code")
    IIV(TOTAL_TIME,"total_time")
    IIV(NAMELOOKUP_TIME,"namelookup_time")
    IIV(CONNECT_TIME,"connect_time")
    IIV(PRETRANSFER_TIME,"pretransfer_time")
    IIV(SIZE_UPLOAD_T,"size_upload_t")
    IIV(SIZE_DOWNLOAD_T,"size_download_t")
    IIV(SPEED_DOWNLOAD_T,"speed_download_t")
    IIV(SPEED_UPLOAD_T,"speed_upload_t")
    IIV(HEADER_SIZE,"header_size")
    IIV(REQUEST_SIZE,"request_size")
    IIV(SSL_VERIFYRESULT,"ssl_verifyresult")
    IIV(FILETIME,"filetime")
    IIV(FILETIME_T,"filetime_t")
    IIV(CONTENT_LENGTH_DOWNLOAD_T,"content_length_download_t")
    IIV(CONTENT_LENGTH_UPLOAD_T,"content_length_upload_t")
    IIV(STARTTRANSFER_TIME,"starttransfer_time")
    IIV(CONTENT_TYPE,"content_type")
    IIV(REDIRECT_TIME,"redirect_time")
    IIV(REDIRECT_COUNT,"redirect_count")
    IIV(PRIVATE,"private")
    IIV(HTTP_CONNECTCODE,"http_connectcode")
    IIV(HTTPAUTH_AVAIL,"httpauth_avail")
    IIV(PROXYAUTH_AVAIL,"proxyauth_avail")
    IIV(OS_ERRNO,"os_errno")
    IIV(NUM_CONNECTS,"num_connects")
    IIV(SSL_ENGINES,"ssl_engines")
    IIV(COOKIELIST,"cookielist")
    IIV(FTP_ENTRY_PATH,"ftp_entry_path")
    IIV(REDIRECT_URL,"redirect_url")
    IIV(PRIMARY_IP,"primary_ip")
    IIV(APPCONNECT_TIME,"appconnect_time")
    IIV(CERTINFO,"certinfo")
    IIV(CONDITION_UNMET,"condition_unmet")
    IIV(RTSP_SESSION_ID,"rtsp_session_id")
    IIV(RTSP_CLIENT_CSEQ,"rtsp_client_cseq")
    IIV(RTSP_SERVER_CSEQ,"rtsp_server_cseq")
    IIV(RTSP_CSEQ_RECV,"rtsp_cseq_recv")
    IIV(PRIMARY_PORT,"primary_port")
    IIV(LOCAL_IP,"local_ip")
    IIV(LOCAL_PORT,"local_port")
    IIV(ACTIVESOCKET,"activesocket")
    IIV(TLS_SSL_PTR,"tls_ssl_ptr")
    IIV(HTTP_VERSION,"http_version")
    IIV(PROXY_SSL_VERIFYRESULT,"proxy_ssl_verifyresult")
    IIV(SCHEME,"scheme")
    IIV(TOTAL_TIME_T,"total_time_t")
    IIV(NAMELOOKUP_TIME_T,"namelookup_time_t")
    IIV(CONNECT_TIME_T,"connect_time_t")
    IIV(PRETRANSFER_TIME_T,"pretransfer_time_t")
    IIV(STARTTRANSFER_TIME_T,"starttransfer_time_t")
    IIV(REDIRECT_TIME_T,"redirect_time_t")
    IIV(APPCONNECT_TIME_T,"appconnect_time_t")
    IIV(RETRY_AFTER,"retry_after")
    IIV(EFFECTIVE_METHOD,"effective_method")
    IIV(PROXY_ERROR,"proxy_error")
    IIV(REFERER,"referer")
    IIV(CAINFO,"cainfo")
    IIV(CAPATH,"capath")
    IIV(XFER_ID,"xfer_id")
    IIV(CONN_ID,"conn_id")
    IIV(QUEUE_TIME_T,"queue_time_t")
    IIV(USED_PROXY,"used_proxy")
}
#undef IIV